<template name="createGame">
  {{#contentFor "headerButtonLeft"}}
    {{> ionNavBackButton path="games"}}
  {{/contentFor}}

  {{#contentFor "headerTitle"}}
    <h1 class="title">Games</h1>
  {{/contentFor}}

  {{#ionView}}
    {{#ionContent}}
      <div class="padded-content createGame">
        <div class="create">
          <button class="button button-positive button-block" id="create">
             Create game
          </button>

          {{#if showFriends}} 
            {{#if game}} 
              <button class="list-inset button button-assertive button-outline button-block" id="cancel">
                Cancel
              </button>
            {{/if}}
            <div class="card text-center padding">
              {{#if friendsSelected}}
                {{createGameWithString}}
              {{else}}
                <span class="message"> Select friends to create a game </span>
              {{/if}}
            </div>

            <div class="list list-inset">
              <label class="item item-input">
                <i class="icon ion-search placeholder-icon"></i>
                <input type="text" id="findFriends" placeholder="Find friends"/>
              </label>
            </div>
            <div class="list list-inset">
              {{#if loadingFriends}}
                Loading friends list...
              {{/if}}
              {{#each friends}}
                {{> friend }}
              {{/each}}
            </div>
          {{/if}}
        </div>
        {{#if game}}
          {{> playGame game=game userIds=selectedUserIds}}
        {{/if}}
      </div>
    {{/ionContent}}
  {{/ionView}}
</template>

<template name="friend">
  <a class="item item-avatar" href="#">
    <img src="{{profilePic}}"/>
    <h2>{{name}}</h2>
    {{#if selected}}
      <i class="ion-checkmark-circled"></i>
    {{/if}}
  </a>
</template>

